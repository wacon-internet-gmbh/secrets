<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">
<f:layout name="Default" />

This template is responsible for displaying a single view for a domain object

If you modify this template, do not forget to change the overwrite settings
in /Configuration/ExtensionBuilder/settings.yaml:
  Resources:
    Private:
      Templates:
        Secrets:
          Show.html: keep

Otherwise your changes will be overwritten the next time you save the extension in the extension builder

<f:section name="content">
<f:if condition="{failed}">
  <f:then>
    <p>{f:translate(key:'tx_secrets_domain_model_secrets.failed')}
      <f:link.page pageUid="{pid}">{f:translate(key:'tx_secrets_domain_model_secrets.new')}</f:link.page>
    </p>
  </f:then>
  <f:else>  <p>
    <!-- Textfeld mit Inhalt -->
  <textarea class="form-control" type="text"  id="secret">{plaintext}</textarea>
  </p>
  <!-- Button zum Kopieren -->
  <button class="btn btn-primary" onclick="CopyFunction()">{f:translate(key:'tx_secrets_domain_model_secrets.copy')}</button>
  <script>
    function CopyFunction() {
    var copyText = document.getElementById("secret");
    copyText.select();
    copyText.setSelectionRange(0, 99999); 
    document.execCommand("copy");
    }
    
    </script>
    <p>{f:translate(key:'tx_secrets_domain_model_secrets.done')}
      <f:link.page pageUid="{pid}">{f:translate(key:'tx_secrets_domain_model_secrets.new')}</f:link.page>
    </p>
  </f:else>
</f:if>  

</f:section>
</html>
